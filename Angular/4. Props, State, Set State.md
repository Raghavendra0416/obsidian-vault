### State & Props
What is State?
**State** = Data that a component **owns and manages itself**. It can change over time.
Think of it like: **Your own personal notebook** - you write in it, you can change it.

What is Props?
**Props** = Data that is **passed from a parent component to a child component**. The child cannot change it.
Think of it like: **A letter someone gave you** - you can read it, but you can't change what's written.

---
#### Simple Example:
```javascript
// Parent Component
function App() {
  const [count, setCount] = useState(0);  // State - owns this data
  
  return (
    <div>
      <h1>Parent Component</h1>
      <button onClick={() => setCount(count + 1)}>Increase</button>
      
      {/* Passing 'count' as prop to child */}
      <ChildComponent number={count} />
    </div>
  );
}

// Child Component
function ChildComponent(props) {
  // Receiving 'number' as prop from parent
  return (
    <div>
      <h2>Child Component</h2>
      <p>Number from parent: {props.number}</p>
    </div>
  );
}
```

**What happens:**
- Parent has `count` in its **state** (can change it)
- Parent sends `count` to child as a **prop** called `number`
- Child receives and displays it, but **cannot change it**


#### Real-World Example: User Card

```javascript
// Parent Component
function UserList() {
  const [users, setUsers] = useState([
    { name: 'John', age: 25 },
    { name: 'Sarah', age: 30 }
  ]);
  
  return (
    <div>
      {/* Passing each user as props to UserCard */}
      <UserCard userName="John" userAge={25} />
      <UserCard userName="Sarah" userAge={30} />
    </div>
  );
}

// Child Component
function UserCard(props) {
  const [isFollowing, setIsFollowing] = useState(false);  // Own state
  
  return (
    <div>
      <h3>{props.userName}</h3>  {/* Props from parent */}
      <p>Age: {props.userAge}</p>  {/* Props from parent */}
      
      <button onClick={() => setIsFollowing(!isFollowing)}>
        {isFollowing ? 'Unfollow' : 'Follow'}  {/* Own state */}
      </button>
    </div>
  );
}
```

---
#### Comparison Table:

| **Aspect**           | **State**                                                                  | **Props**                                                        |
| -------------------- | -------------------------------------------------------------------------- | ---------------------------------------------------------------- |
| **What is it?**      | Data owned by the component                                                | Data received from parent                                        |
| **Can it change?**   | ✅ Yes (using `setState`)                                                   | ❌ No (read-only)                                                 |
| **Who controls it?** | The component itself                                                       | Parent component                                                 |
| **Example**          | Form input value, counter                                                  | User name, product price                                         |
| **Syntax**           | `const [count, setCount] = useState(0)`                                    | `function Child(props)`                                          |
|                      | Variables declared in the function body                                    | Function parameters                                              |
|                      | State can be changed                                                       | props are immutable                                              |
|                      | `useState Hook` - Functional Components<br>`this.props` - Class Components | props - Functional Components<br>`this.props` - Class Components |

---

#### When to Use What?

##### Use **State** when:
- Data can change (user input, toggle buttons)
- Component needs to remember something
- Data is specific to THIS component

**Examples:**
- Form inputs (what user types)
- Toggle (menu open/close)
- Counter (number that increases)

##### Use **Props** when:
- Passing data from parent to child
- Data comes from outside the component
- Multiple children need the same data

**Examples:**
- Product name in a product card
- User information
- Configuration settings

---
#### Interview:
**"State is for data that changes within a component. Props are for passing data from parent to child. State can be modified by the component, but props are read-only."**

**Example:** "In a shopping app, the product name would be a prop (passed from parent), but the 'Add to Cart' button's clicked state would be state (managed by the button component itself)."

---
#### Breaking Down The Example:
```javascript
// PARENT COMPONENT
function UserList() {
  // ⭐ THIS IS STATE (owned by UserList component)
  const [users, setUsers] = useState([
    { name: 'John', age: 25 },
    { name: 'Sarah', age: 30 }
  ]);
  
  return (
    <div>
      {/* ⭐ THESE ARE PROPS (being passed to child) */}
      <UserCard userName="John" userAge={25} />
      {/*       ↑ prop name    ↑ prop value      */}
      
      <UserCard userName="Sarah" userAge={30} />
    </div>
  );
}

// CHILD COMPONENT
function UserCard(props) {
  // ⭐ THIS IS STATE (owned by UserCard component)
  const [isFollowing, setIsFollowing] = useState(false);
  
  return (
    <div>
      {/* ⭐ USING PROPS (received from parent) */}
      <h3>{props.userName}</h3>
      {/*    ↑ accessing prop from parent     */}
      
      <p>Age: {props.userAge}</p>
      {/*        ↑ accessing prop from parent */}
      
      {/* ⭐ USING STATE (own state) */}
      <button onClick={() => setIsFollowing(!isFollowing)}>
        {isFollowing ? 'Unfollow' : 'Follow'}
        {/* ↑ using own state */}
      </button>
    </div>
  );
}
```

##### Visual Breakdown:
##### STATE in this code:

**1. In Parent (UserList):**
```javascript
const [users, setUsers] = useState([...]);
```

- `users` is **STATE**
- UserList component **owns** this data
- UserList can **change** this data using `setUsers`

**2. In Child (UserCard):**
```javascript
const [isFollowing, setIsFollowing] = useState(false);
```

- `isFollowing` is **STATE**
- UserCard component **owns** this data
- UserCard can **change** this data using `setIsFollowing`


##### PROPS in this code:

**Sending Props (Parent to Child):**
```javascript
<UserCard userName="John" userAge={25} />
//        ↑ prop1        ↑ prop2
```
- `userName` and `userAge` are **PROPS**
- Parent is **sending** these to child

**Receiving Props (in Child):**
```javascript
function UserCard(props) {
  // props = { userName: "John", userAge: 25 }
  
  return (
    <h3>{props.userName}</h3>  // Accessing: John
    <p>{props.userAge}</p>      // Accessing: 25
  );
}
```

- Child **receives** props in the `props` object
- Child **reads** them using `props.userName` and `props.userAge`
- Child **CANNOT change** them


#### Simple Summary:

|**Line of Code**|**Type**|**Who Owns It**|**Can Change?**|
|---|---|---|---|
|`useState([...])` in UserList|STATE|UserList (parent)|✅ Yes|
|`userName="John"`|PROP|Sent by parent|❌ No|
|`userAge={25}`|PROP|Sent by parent|❌ No|
|`props.userName`|PROP|Received by child|❌ No (read only)|
|`useState(false)` in UserCard|STATE|UserCard (child)|✅ Yes|

---
#### The Flow:
```Text
Parent Component (UserList)
    |
    | Has STATE: [users]
    |
    | Passes as PROPS ↓
    |
Child Component (UserCard)
    |
    | Receives PROPS: userName, userAge
    | Has its own STATE: isFollowing
```

---
### Set State
- While working with set State in method 2 way use `setState` function  and never modify the state directly.
- Code has to be executed after the state has updated? Place that code in the callback function which is second argument of `setState` method.
- When you have to update based on the previous state values, pass in a function as argument instead of regular object.

When you use `useState`, you get **two things**:
1. The **value** (like `count`)
2. A **function to change the value** (like `setCount`)

---
#### Example:

##### Method 1: Direct `setState`
```JavaScript
function Counter() {
  const [count, setCount] = useState(0);
  //             ↑
  //      This is setState function
  
  return (
    <button onClick={() => setCount(count + 1)}>
      {/*                   ↑                   */}
      {/*        HERE - setState is being used  */}
      {/*       Writing logic directly here ↑   */}
      Count: {count}
    </button>
  );
}
```

##### Method 2:
```JavaScript
function Counter() {
  const [count, setCount] = useState(0);
  
  // ⭐ Creating a separate function with logic
  const handleClick = () => {
    setCount(count + 1);
    // You can add more logic here
    console.log("Button clicked!");
  };
  
  return (
    <button onClick={handleClick}>
      {/*     Calling the function ↑     */}
      Count: {count}
    </button>
  );
}
```

----

## ⚠️ Important: "this" Does NOT Work in Functional Components

**Functional components don't have `this`!** Only class components use `this`.

Let me show you both ways:

---

## ✅ Option 1: Functional Component WITHOUT useEffect

```javascript
import { useState } from 'react';

function Counter() {
  const [count, setCount] = useState(0);
  
  const handleClick = () => {
    // Using callback form - no useEffect needed!
    setCount((prevCount) => {
      const newCount = prevCount + 1;
      console.log("Updated count:", newCount);  // ✅ Shows new value
      return newCount;
    });
  };
  
  return (
    <button onClick={handleClick}>
      Count: {count}
    </button>
  );
}
```

**No `this`, no `useEffect` - just the callback form of setState!**

---

## ✅ Option 2: Class Component WITH "this"

If you specifically want to use `this`, you need a **class component**:

```javascript
import React from 'react';

class Counter extends React.Component {
  constructor(props) {
    super(props);
    this.state = { count: 0 };
  }
  
  handleClick = () => {
    // Using callback to log updated value
    this.setState(
      (prevState) => ({
        count: prevState.count + 1
      }),
      () => {
        // This callback runs AFTER state updates
        console.log("Updated count:", this.state.count);  // ✅ Shows new value
      }
    );
  };
  
  render() {
    return (
      <button onClick={this.handleClick}>
        Count: {this.state.count}
      </button>
    );
  }
}
```

---

## Comparison:

|**Method**|**Uses "this"?**|**Uses useEffect?**|**Component Type**|
|---|---|---|---|
|Callback form in functional component|❌ No|❌ No|Functional|
|useEffect in functional component|❌ No|✅ Yes|Functional|
|Class component with callback|✅ Yes|❌ No|Class|

---

## Summary:

**Can't use `this` in functional components. You have two choices:**

**1. Functional component (Modern way - Recommended):**

```javascript
setCount((prevCount) => {
  console.log(prevCount + 1);  // Log new value
  return prevCount + 1;
});
```

**2. Class component (Old way - if you want to use `this`):**

```javascript
this.setState(
  (prevState) => ({ count: prevState.count + 1 }),
  () => console.log(this.state.count)  // Callback after update
);
```

**Which one do you want to use?** I recommend the functional component approach (Option 1) as it's simpler and more modern!